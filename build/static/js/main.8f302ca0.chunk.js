(this["webpackJsonptf-react-simple-app"]=this["webpackJsonptf-react-simple-app"]||[]).push([[0],{313:function(e,a,t){e.exports=t(363)},323:function(e,a){},324:function(e,a){},332:function(e,a){},335:function(e,a){},336:function(e,a){},359:function(e,a,t){},360:function(e,a,t){},363:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t.n(n),l=t(49),c=t.n(l),i=t(115),o=t(20),m=t(78),s=t(9),u=t(276),d=t.n(u),p=t(114),E=t(179),b=t.n(E),f=t(402),h=t(182),g=t(388),v=t(387),y=Object(v.a)((function(e){return{header:{textAlign:"center",padding:"48px 32px"}}})),j=function(e){var a=e.name,t=y();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:t.header},r.a.createElement(h.a,{variant:"h1",color:"primary"},a)),r.a.createElement(g.a,null))},x=(t(359),t(403)),O=t(389),w=t(390),N=function(){var e=Object(n.useState)([{x:-1,y:-3},{x:0,y:-1},{x:1,y:1},{x:2,y:3},{x:3,y:5},{x:4,y:7}]),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({model:null,trained:!1,predictedValue:"Click on train!",loading:!1,valueToPredict:1}),u=Object(s.a)(c,2),E=u[0],g=u[1],v=function(e){var a=d()(t,Object(m.a)({},e.target.dataset.index,Object(m.a)({},e.target.name,{$set:parseInt(e.target.value)})));l(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{name:"Linear Regression"}),r.a.createElement(f.a,{className:"linear-regression"},r.a.createElement(f.a,{className:"train-controls"},r.a.createElement(h.a,{variant:"h2"},"Linear Regression"),r.a.createElement(h.a,{variant:"subtitle1",className:"section"},"Training Data (x,y) pairs"),r.a.createElement(f.a,{className:"row labels"},r.a.createElement(f.a,{className:"field-label column"},r.a.createElement(h.a,{variant:"h6"},"X")),r.a.createElement(f.a,{className:"field-label column"},r.a.createElement(h.a,{variant:"h6"},"Y"))),t.map((function(e,a){return r.a.createElement(f.a,{key:a,className:"row"},r.a.createElement(x.a,{className:"field field-x column",value:e.x,name:"x","data-index":a,onChange:v,type:"number"}),r.a.createElement(x.a,{className:"field field-y column",value:e.y,name:"y","data-index":a,onChange:v,type:"number"}))})),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){l([].concat(Object(o.a)(t),[{x:1,y:1}]))},startIcon:r.a.createElement(w.a,null,"add")},r.a.createElement(h.a,{variant:"button"},"Add a new pair")),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){l(Object(o.a)(t.slice(0,t.length-1)))},startIcon:r.a.createElement(w.a,null,"delete")},r.a.createElement(h.a,{variant:"button"},"Delete last pair")),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){g(Object(i.a)(Object(i.a)({},E),{},{loading:!0}));var e=[],a=[];t.forEach((function(t,n){e.push(t.x),a.push(t.y)}));var n=p.d();n.add(p.b.dense({units:1,inputShape:[1]})),n.compile({loss:"meanSquaredError",optimizer:"sgd"});var r=p.e(e,[e.length,1]),l=p.e(a,[a.length,1]);n.fit(r,l,{epochs:250}).then((function(){g(Object(i.a)(Object(i.a)({},E),{},{model:n,trained:!0,predictedValue:"Ready for making predictions",loading:!1}))}))},startIcon:r.a.createElement(w.a,null,"scatter_plot")},r.a.createElement(h.a,{variant:"button"},"Train"))),r.a.createElement(f.a,{className:"predict-controls"},r.a.createElement(h.a,{variant:"h2"},"Predicting"),r.a.createElement(x.a,{className:"field element",value:E.valueToPredict,name:"valueToPredict",onChange:function(e){return g(Object(i.a)(Object(i.a)({},E),{},Object(m.a)({},e.target.name,[parseInt(e.target.value)])))},type:"number",placeholder:"Enter an integer"}),r.a.createElement("br",null),r.a.createElement(f.a,{className:"element label-prediction"},E.loading?r.a.createElement(b.a,{className:"loader",type:"Bars",color:"#00DE00",height:32,width:32}):r.a.createElement(h.a,{variant:"h5"},E.predictedValue)),r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:function(){var e=E.model.predict(p.e([E.valueToPredict],[1,1])).arraySync()[0][0];g(Object(i.a)(Object(i.a)({},E),{},{predictedValue:e}))},disabled:!E.trained},r.a.createElement(h.a,{variant:"button"},"Predict")))))},k=t(6),C=t.n(k),I=t(14),S=t(298),T=t(391),R=t(392),L=(t(360),function(){var e,a,t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],i=l[1],m=Object(n.useState)([]),u=Object(s.a)(m,2),d=u[0],E=u[1],g=Object(n.useState)(!0),v=Object(s.a)(g,2),y=v[0];v[1];Object(n.useEffect)((function(){return x(),function(){return console.log("unmounted!")}}),[]);var x=function(){function a(){return(a=Object(I.a)(C.a.mark((function a(){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a();case 2:e=a.sent,console.log("Successfully loaded model!"),O();case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()};function O(){return w.apply(this,arguments)}function w(){return(w=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("webcam"),e.next=3,p.a.webcam(t);case 3:a=e.sent,console.log("Webcam is loaded!"),T(!0),N();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return k.apply(this,arguments)}function k(){return(k=Object(I.a)(C.a.mark((function a(){var t,n;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=document.getElementById("mnimg"),a.next=3,e.classify(t);case 3:n=a.sent,i(n);case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function T(){return R.apply(this,arguments)}function R(){return(R=Object(I.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y){t.next=15;break}return t.next=3,a.capture();case 3:return n=t.sent,t.next=6,e.classify(n);case 6:return t.sent.map((function(e){return E((function(a){return[].concat(Object(o.a)(a),[e])}))})),n.dispose(),t.next=11,L(3e3);case 11:return t.next=13,p.c();case 13:t.next=0;break;case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L=function(e){return new Promise((function(a){return setTimeout(a,e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{name:"Object Recognition"}),r.a.createElement(f.a,{className:"mobile-net"},r.a.createElement(h.a,{variant:"h2"},"MobileNet"),r.a.createElement(f.a,{className:"video-classification"},r.a.createElement(h.a,{variant:"h3"},"Video image classification"),r.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,id:"webcam",width:"224",height:"224"}),r.a.createElement(f.a,null,d.length?r.a.createElement(f.a,null,r.a.createElement(h.a,{variant:"body1"},d[d.length-1].className),r.a.createElement(h.a,{variant:"body2"},"p: ",d[d.length-1].probability.toFixed(2))):r.a.createElement(f.a,{className:"wait-for-video"},r.a.createElement(b.a,{className:"loader",type:"Grid",color:"#00DE00",height:156,width:156}),r.a.createElement(h.a,{variant:"body1"},"Loading...")))),r.a.createElement(f.a,{className:"image-classification"},r.a.createElement(h.a,{variant:"h3"},"Image classification"),r.a.createElement("img",{id:"mnimg",src:"./images/MobileNetImage.jpg",alt:"MobileNet image"}),r.a.createElement(f.a,null,r.a.createElement(h.a,{variant:"h4"},"Classification results"),c.length?c.map((function(e,a){return r.a.createElement(D,{key:a,val:e.className,probability:e.probability})})):r.a.createElement(b.a,{className:"loader",type:"ThreeDots",color:"#00DE00",height:32,width:32})))))}),D=function(e){var a=e.val,t=e.probability,l=e.index,c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],m=i[1];return r.a.useEffect((function(){console.log("show probability changed!")}),[o]),r.a.createElement(T.a,{index:l},r.a.createElement(R.a,null,r.a.createElement(h.a,{variant:"h5"},a),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){return m(!o)}},r.a.createElement(h.a,{variant:"button"},"Toggle probability")),o&&r.a.createElement(h.a,{variant:"subtitle1"},t)))},A=t(393),F=t(401),P=t(404),z=t(394),B=t(395),M=t(396),V=t(397),W=t(398),J=t(299),G=t.n(J),$=t(40),q=t(96),X=t(300),Y=t.n(X),_=t(301),H=t.n(_),K=t(302),Q=t.n(K),U=Object(v.a)((function(e){return{root:{flexGrow:1},logo:{color:"#fff",fontWeight:"900",backgroundColor:"#131313",padding:"6px 12px",textDecoration:"none","&:hover":{color:"#00FE00"}},navRight:{display:"flex",justifyContent:"flex-end",width:"100vw"},item:{padding:"16px 32px"},link:{color:"#fff",textDecoration:"none",letterSpacing:"1px","&:hover":{color:"#00FE00"}},menuButton:{position:"absolute",right:"12px"},mobileItemLink:{textDecoration:"none"}}})),Z=Object($.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(F.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),ee=Object($.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(P.a),ae=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],m=i[1],u=U(),d=function(){l(null),m(!1)};return Object(A.a)("(min-width:668px)")?r.a.createElement("div",{className:u.root},r.a.createElement(z.a,{color:"primary",title:"TensorFlow React JS App",position:"static"},r.a.createElement(B.a,null,r.a.createElement(h.a,{variant:"h6"},r.a.createElement(q.b,{to:"/",className:u.logo},"TR")),r.a.createElement("div",{className:u.navRight},r.a.createElement(h.a,{variant:"h6",className:u.item},r.a.createElement(q.b,{to:"/",className:u.link},"Object Recognition")),r.a.createElement(h.a,{variant:"h6",className:u.item},r.a.createElement(q.b,{to:"/linear-regression",className:u.link},"Linear Regression")),r.a.createElement(h.a,{variant:"h6",className:u.item},r.a.createElement(q.b,{to:"/about",className:u.link},"About")))))):r.a.createElement("div",{className:u.root},r.a.createElement(z.a,{position:"static"},r.a.createElement(B.a,null,r.a.createElement(h.a,{variant:"h6"},r.a.createElement(q.b,{to:"/",className:u.logo},"TR")),r.a.createElement(M.a,{className:u.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){l(e.currentTarget),m(!0)}},r.a.createElement(G.a,null)),r.a.createElement(Z,{id:"customized-menu",anchorEl:t,keepMounted:!0,open:o,onClose:d},r.a.createElement(q.b,{to:"/",onClick:d,className:u.mobileItemLink},r.a.createElement(ee,null,r.a.createElement(V.a,null,r.a.createElement(Y.a,{fontSize:"small"})),r.a.createElement(W.a,{primary:"Object Recognition"}))),r.a.createElement(q.b,{to:"/linear-regression",onClick:d,className:u.mobileItemLink},r.a.createElement(ee,null,r.a.createElement(V.a,null,r.a.createElement(H.a,{fontSize:"small"})),r.a.createElement(W.a,{primary:"Linear Regression"}))),r.a.createElement(q.b,{to:"/about",onClick:d,className:u.mobileItemLink},r.a.createElement(ee,null,r.a.createElement(V.a,null,r.a.createElement(Q.a,{fontSize:"small"})),r.a.createElement(W.a,{primary:"About"})))))))},te=t(399),ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{name:"About"}),r.a.createElement(h.a,{variant:"subtitle1",color:"secondary"},"This project was based on",r.a.createElement(te.a,{href:"https://www.dlighthouse.co/2020/02/creating-tensorflowjs-reactjs-js-app.html",color:"primary"}," this tutorial")),r.a.createElement(h.a,{variant:"subtitle1",color:"secondary"},"My personal contribution was addition of all the neat functionality around and styles."))},re=t(54),le=function(){return r.a.createElement(f.a,{className:"App"},r.a.createElement(q.a,null,r.a.createElement(ae,null),r.a.createElement(re.c,null,r.a.createElement(re.a,{path:"/about"},r.a.createElement(ne,null)),r.a.createElement(re.a,{path:"/linear-regression"},r.a.createElement(N,null)),r.a.createElement(re.a,{path:"/"},r.a.createElement(L,null,r.a.createElement("p",null,"Children of the net!"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=t(400);c.a.render(r.a.createElement(ce.a,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[313,1,2]]]);
//# sourceMappingURL=main.8f302ca0.chunk.js.map